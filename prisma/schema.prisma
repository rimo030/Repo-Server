generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model board {
  id          Int       @id @default(autoincrement())
  created_at  DateTime  @default(now()) @db.DateTime(6)
  updated_at  DateTime  @default(now()) @db.DateTime(6)
  deleted_at  DateTime? @db.DateTime(6)
  buyer_id    Int
  title       String    @db.VarChar(512)
  description String    @db.Text
  status      String    @db.VarChar(128)
  buyer       buyer     @relation(fields: [buyer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_28d6cbe8d5415d0458c01c9fc36")

  @@index([buyer_id], map: "FK_28d6cbe8d5415d0458c01c9fc36")
}

model buyer {
  id         Int       @id @default(autoincrement())
  created_at DateTime  @default(now()) @db.DateTime(6)
  updated_at DateTime  @default(now()) @db.DateTime(6)
  deleted_at DateTime? @db.DateTime(6)
  email      String    @unique(map: "IDX_7911d7b9e729513dec55983fc5") @db.VarChar(128)
  password   String    @db.VarChar(512)
  name       String    @db.VarChar(128)
  gender     Int       @db.TinyInt
  age        Int
  phone      String    @db.VarChar(11)
  board      board[]
  cart       cart[]
  order      order[]
}

model cart {
  id                   Int                    @id @default(autoincrement())
  created_at           DateTime               @default(now()) @db.DateTime(6)
  updated_at           DateTime               @default(now()) @db.DateTime(6)
  deleted_at           DateTime?              @db.DateTime(6)
  buyer_id             Int
  product_id           Int
  product              product                @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_dccd1ec2d6f5644a69adf163bc1")
  buyer                buyer                  @relation(fields: [buyer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e748a9330ce4ffa4c5d4a0e6c75")
  cart_option          cart_option[]
  cart_required_option cart_required_option[]
  order_product        order_product[]

  @@index([product_id], map: "FK_dccd1ec2d6f5644a69adf163bc1")
  @@index([buyer_id], map: "FK_e748a9330ce4ffa4c5d4a0e6c75")
}

model cart_option {
  id                Int            @id @default(autoincrement())
  created_at        DateTime       @default(now()) @db.DateTime(6)
  updated_at        DateTime       @default(now()) @db.DateTime(6)
  deleted_at        DateTime?      @db.DateTime(6)
  cart_id           Int
  product_option_id Int
  count             Int
  product_option    product_option @relation(fields: [product_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_1a8364b4e9faa0619c35d6c944b")
  cart              cart           @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_af7b1bd63988a24c3f35c16e0fa")

  @@index([product_option_id], map: "FK_1a8364b4e9faa0619c35d6c944b")
  @@index([cart_id], map: "FK_af7b1bd63988a24c3f35c16e0fa")
}

model cart_product_input_option {
  id                      Int                   @id @default(autoincrement())
  created_at              DateTime              @default(now()) @db.DateTime(6)
  updated_at              DateTime              @default(now()) @db.DateTime(6)
  deleted_at              DateTime?             @db.DateTime(6)
  cart_required_id        Int
  product_input_option_id Int
  name                    String                @db.VarChar(128)
  value                   String                @db.VarChar(128)
  count                   Int
  cart_required_option_id Int?
  cart_required_option    cart_required_option? @relation(fields: [cart_required_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_715094f7bff8ac626c5c2b392f1")
  product_input_option    product_input_option  @relation(fields: [product_input_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_de46b2b09cd416cd8bf7beb02ab")

  @@index([cart_required_option_id], map: "FK_715094f7bff8ac626c5c2b392f1")
  @@index([product_input_option_id], map: "FK_de46b2b09cd416cd8bf7beb02ab")
}

model cart_required_option {
  id                         Int                         @id @default(autoincrement())
  created_at                 DateTime                    @default(now()) @db.DateTime(6)
  updated_at                 DateTime                    @default(now()) @db.DateTime(6)
  deleted_at                 DateTime?                   @db.DateTime(6)
  cart_id                    Int
  product_required_option_id Int
  count                      Int
  cart_product_input_option  cart_product_input_option[]
  product_required_option    product_required_option     @relation(fields: [product_required_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_04e2299eefb05109e112310898e")
  cart                       cart                        @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_46b94cc788f5fa1498627ba3101")

  @@index([product_required_option_id], map: "FK_04e2299eefb05109e112310898e")
  @@index([cart_id], map: "FK_46b94cc788f5fa1498627ba3101")
}

model category {
  id         Int       @id @default(autoincrement())
  created_at DateTime  @default(now()) @db.DateTime(6)
  updated_at DateTime  @default(now()) @db.DateTime(6)
  deleted_at DateTime? @db.DateTime(6)
  name       String    @unique(map: "IDX_23c05c292c439d77b0de816b50") @db.VarChar(128)
  product    product[]
}

model company {
  id         Int       @id @default(autoincrement())
  created_at DateTime  @default(now()) @db.DateTime(6)
  updated_at DateTime  @default(now()) @db.DateTime(6)
  deleted_at DateTime? @db.DateTime(6)
  name       String    @db.VarChar(128)
  product    product[]
}

model order {
  id                                                        Int                    @id @default(autoincrement())
  created_at                                                DateTime               @default(now()) @db.DateTime(6)
  updated_at                                                DateTime               @default(now()) @db.DateTime(6)
  deleted_at                                                DateTime?              @db.DateTime(6)
  buyer_id                                                  Int
  buyer                                                     buyer                  @relation(fields: [buyer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_8724877ec30a3aab629727b36ed")
  order_product_bundle_order_product_bundle_order_idToorder order_product_bundle[] @relation("order_product_bundle_order_idToorder")
  order_product_bundle_order_product_bundle_user_idToorder  order_product_bundle[] @relation("order_product_bundle_user_idToorder")

  @@index([buyer_id], map: "FK_8724877ec30a3aab629727b36ed")
}

model order_product {
  id                            Int                             @id @default(autoincrement())
  created_at                    DateTime                        @default(now()) @db.DateTime(6)
  updated_at                    DateTime                        @default(now()) @db.DateTime(6)
  deleted_at                    DateTime?                       @db.DateTime(6)
  order_product_bundle_id       Int
  cart_id                       Int
  product_id                    Int
  product                       product                         @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_400f1584bf37c21172da3b15e2d")
  cart                          cart                            @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_4ae87e364343a191d32540fcaf4")
  order_product_bundle          order_product_bundle            @relation(fields: [order_product_bundle_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b7071479467050e51110b9263a8")
  order_product_option          order_product_option[]
  order_product_required_option order_product_required_option[]

  @@index([product_id], map: "FK_400f1584bf37c21172da3b15e2d")
  @@index([cart_id], map: "FK_4ae87e364343a191d32540fcaf4")
  @@index([order_product_bundle_id], map: "FK_b7071479467050e51110b9263a8")
}

model order_product_bundle {
  id                                         Int             @id @default(autoincrement())
  created_at                                 DateTime        @default(now()) @db.DateTime(6)
  updated_at                                 DateTime        @default(now()) @db.DateTime(6)
  deleted_at                                 DateTime?       @db.DateTime(6)
  order_id                                   Int
  bundle_name                                String          @db.VarChar(128)
  fee_standard                               String          @db.VarChar(128)
  user_id                                    Int?
  order_product                              order_product[]
  order_order_product_bundle_order_idToorder order           @relation("order_product_bundle_order_idToorder", fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_207b1debf02c68ab13d631f2977")
  order_order_product_bundle_user_idToorder  order?          @relation("order_product_bundle_user_idToorder", fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_561d2fd8b826af4bb454386db80")

  @@index([order_id], map: "FK_207b1debf02c68ab13d631f2977")
  @@index([user_id], map: "FK_561d2fd8b826af4bb454386db80")
}

model order_product_input_option {
  id                               Int                           @id @default(autoincrement())
  created_at                       DateTime                      @default(now()) @db.DateTime(6)
  updated_at                       DateTime                      @default(now()) @db.DateTime(6)
  deleted_at                       DateTime?                     @db.DateTime(6)
  order_product_required_option_id Int
  name                             String                        @db.VarChar(32)
  value                            Int
  count                            Int
  order_product_required_option    order_product_required_option @relation(fields: [order_product_required_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_6d98ad13257c8c45694152e8fc9")

  @@index([order_product_required_option_id], map: "FK_6d98ad13257c8c45694152e8fc9")
}

model order_product_option {
  id               Int           @id @default(autoincrement())
  created_at       DateTime      @default(now()) @db.DateTime(6)
  updated_at       DateTime      @default(now()) @db.DateTime(6)
  deleted_at       DateTime?     @db.DateTime(6)
  order_product_id Int
  name             String        @db.VarChar(128)
  price            Int
  count            Int
  order_product    order_product @relation(fields: [order_product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_87445aa4ce94c595bba17f28557")

  @@index([order_product_id], map: "FK_87445aa4ce94c595bba17f28557")
}

model order_product_required_option {
  id                         Int                          @id @default(autoincrement())
  created_at                 DateTime                     @default(now()) @db.DateTime(6)
  updated_at                 DateTime                     @default(now()) @db.DateTime(6)
  deleted_at                 DateTime?                    @db.DateTime(6)
  order_product_id           Int
  name                       String                       @db.VarChar(128)
  price                      Int
  count                      Int
  order_product_input_option order_product_input_option[]
  order_product              order_product                @relation(fields: [order_product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_ec76a131a22ef2df2f5e578cc98")

  @@index([order_product_id], map: "FK_ec76a131a22ef2df2f5e578cc98")
}

model product {
  id                      Int                       @id @default(autoincrement())
  created_at              DateTime                  @default(now()) @db.DateTime(6)
  updated_at              DateTime                  @default(now()) @db.DateTime(6)
  deleted_at              DateTime?                 @db.DateTime(6)
  seller_id               Int
  bundle_id               Int?
  category_id             Int
  company_id              Int
  is_sale                 Int                       @db.TinyInt
  name                    String                    @db.VarChar(128)
  description             String?                   @db.VarChar(255)
  delivery_type           String                    @db.VarChar(128)
  delivery_free_over      Int?
  delivery_charge         Int
  img                     String                    @db.VarChar(255)
  cart                    cart[]
  order_product           order_product[]
  category                category                  @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_0dce9bc93c2d2c399982d04bef1")
  seller                  seller                    @relation(fields: [seller_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_79a3ae0442388a2418ec67a3120")
  company                 company                   @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_a0503db1630a5b8a4d7deabd556")
  product_bundle          product_bundle?           @relation(fields: [bundle_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_f35662270f8bcb3f26dfd6e9fda")
  product_option          product_option[]
  product_required_option product_required_option[]

  @@index([category_id], map: "FK_0dce9bc93c2d2c399982d04bef1")
  @@index([seller_id], map: "FK_79a3ae0442388a2418ec67a3120")
  @@index([company_id], map: "FK_a0503db1630a5b8a4d7deabd556")
  @@index([bundle_id], map: "FK_f35662270f8bcb3f26dfd6e9fda")
}

model product_bundle {
  id              Int       @id @default(autoincrement())
  created_at      DateTime  @default(now()) @db.DateTime(6)
  updated_at      DateTime  @default(now()) @db.DateTime(6)
  deleted_at      DateTime? @db.DateTime(6)
  seller_id       Int
  name            String    @db.VarChar(128)
  charge_standard String    @db.VarChar(128)
  product         product[]
  seller          seller    @relation(fields: [seller_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_5f7d9d71c8ae2f2141c1d2a18fb")

  @@index([seller_id], map: "FK_5f7d9d71c8ae2f2141c1d2a18fb")
}

model product_input_option {
  id                         Int                         @id @default(autoincrement())
  created_at                 DateTime                    @default(now()) @db.DateTime(6)
  updated_at                 DateTime                    @default(now()) @db.DateTime(6)
  deleted_at                 DateTime?                   @db.DateTime(6)
  product_required_option_id Int
  name                       String                      @db.VarChar(128)
  value                      String                      @db.VarChar(128)
  description                String                      @db.VarChar(255)
  is_required                Int                         @db.TinyInt
  cart_product_input_option  cart_product_input_option[]
  product_required_option    product_required_option     @relation(fields: [product_required_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_2ecb5a06d4d1e771e297403aca5")

  @@index([product_required_option_id], map: "FK_2ecb5a06d4d1e771e297403aca5")
}

model product_option {
  id          Int           @id @default(autoincrement())
  created_at  DateTime      @default(now()) @db.DateTime(6)
  updated_at  DateTime      @default(now()) @db.DateTime(6)
  deleted_at  DateTime?     @db.DateTime(6)
  product_id  Int
  name        String        @db.VarChar(128)
  price       Int
  is_sale     Int           @db.TinyInt
  cart_option cart_option[]
  product     product       @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e634fca34f6b594b87fdbee95f6")

  @@index([product_id], map: "FK_e634fca34f6b594b87fdbee95f6")
}

model product_required_option {
  id                   Int                    @id @default(autoincrement())
  created_at           DateTime               @default(now()) @db.DateTime(6)
  updated_at           DateTime               @default(now()) @db.DateTime(6)
  deleted_at           DateTime?              @db.DateTime(6)
  product_id           Int
  name                 String                 @db.VarChar(128)
  price                Int
  is_sale              Int                    @db.TinyInt
  cart_required_option cart_required_option[]
  product_input_option product_input_option[]
  product              product                @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_fcd139390614f140c0a834257ab")

  @@index([product_id], map: "FK_fcd139390614f140c0a834257ab")
}

model seller {
  id              Int              @id @default(autoincrement())
  created_at      DateTime         @default(now()) @db.DateTime(6)
  updated_at      DateTime         @default(now()) @db.DateTime(6)
  deleted_at      DateTime?        @db.DateTime(6)
  email           String           @unique(map: "IDX_1f677314b76e057b56c48042ac") @db.VarChar(128)
  password        String           @db.VarChar(512)
  name            String           @db.VarChar(32)
  phone           String           @db.VarChar(11)
  business_number String           @db.VarChar(128)
  product         product[]
  product_bundle  product_bundle[]
}
